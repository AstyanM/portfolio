---
interface Props {
  content: string;
  lang: 'fr' | 'en';
}

const { content, lang } = Astro.props;

const title = lang === 'fr' ? 'Conclusion' : 'Conclusion';

// Split content into paragraphs
const paragraphs = content.split(/\n\n+/).filter(p => p.trim());
---

<aside class="mt-16">
  <div class="bg-background-secondary/50 border border-border rounded-2xl p-7 sm:p-5 relative overflow-hidden">
    <!-- Accent left bar -->
    <div class="absolute left-0 top-0 bottom-0 w-1 bg-accent rounded-l-2xl"></div>

    <div class="flex items-center gap-3 mb-4">
      <svg class="w-5 h-5 text-accent flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
        <polyline points="22 4 12 14.01 9 11.01"/>
      </svg>
      <h2 id="conclusion" class="text-xl font-semibold font-display text-foreground tracking-tight m-0">{title}</h2>
    </div>

    <div>
      {paragraphs.map((paragraph) => (
        <p class="text-foreground-secondary leading-relaxed mb-4 last:mb-0">{paragraph.replace(/\n/g, ' ').replace(/[-*]\s+/g, '').replace(/\*\*/g, '').trim()}</p>
      ))}
    </div>
  </div>
</aside>
