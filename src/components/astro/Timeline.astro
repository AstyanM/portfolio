---
import { Briefcase, GraduationCap, Calendar } from 'lucide-react';

const { lang = 'fr' } = Astro.props;

const translations = {
  fr: {
    title: "Mon Parcours",
    subtitle: "Une formation d'excellence et des expériences concrètes.",
    experience: [
      {
        date: "Sept 2025 - Présent",
        title: "Stagiaire IA & Automatisation",
        company: "Prevision - Paris",
        type: "work",
        description: [
          "Développement fullstack d’outils d’aide à l’orientation pour les lycéens",
          "Fine-tuning d’IA à des fins éducatives",
          "Automatisation de processus à l’aide de n8n"
        ]
      },
      {
        date: "Fév 2025 - Juin 2025",
        title: "Semestre en Erasmus",
        company: "Université d'Ingénierie - Trento, Italie",
        type: "edu",
        description: [
          "Complétion de ma formation initiale avec des cours spécialisés en data science et intelligence artificielle"
        ]
      },
      {
        date: "Jan 2024 - Fév 2024",
        title: "Stagiaire Technicien R&D",
        company: "Ricoh Industrie France - Wettolsheim",
        type: "work",
        description: [
          "Réalisation de tests et analyses pour évaluer les performances produits",
          "Spécialisation en caractérisation des matériaux",
          "Gestion et interprétation des données expérimentales"
        ]
      },
      {
        date: "Oct 2023 - Déc 2024",
        title: "Projet : Faire Parler les Données Médicales",
        company: "Centrale & SIB - Lille",
        type: "work",
        description: [
          "Utilisation de traitement du langage naturel (NLP/LLM) pour faciliter la prise de décision clinique",
          "Gestion de projet et organisation d'équipe"
        ]
      },
      {
        date: "2023 - 2026",
        title: "Master en Ingénierie",
        company: "École Centrale - Lille",
        type: "edu",
        description: [
          "Formation généraliste avec des projets en data science, gestion de projet et physique appliquée"
        ]
      },
      {
        date: "2021 - 2023",
        title: "Classe Préparatoire aux Grandes Écoles",
        company: "Lycée Kléber - Strasbourg",
        type: "edu",
        description: [
          "Classe PCSI/PC* avec spécialisation en Physique et Mathématiques",
          "Préparation théorique et pratique aux concours"
        ]
      }
    ]
  },
  en: {
    title: "My Journey",
    subtitle: "Excellence in training and concrete experiences.",
    experience: [
      {
        date: "Sept 2025 - Present",
        title: "AI & Automation Intern",
        company: "Prevision - Paris",
        type: "work",
        description: [
          "Fullstack development of orientation tools for high school students",
          "AI Fine-tuning for educational purposes",
          "Process automation using n8n"
        ]
      },
      {
        date: "Feb 2025 - June 2025",
        title: "Erasmus Semester",
        company: "University of Engineering - Trento, Italy",
        type: "edu",
        description: [
          "Completion of initial training with specialized courses in data science and AI"
        ]
      },
      {
        date: "Jan 2024 - Feb 2024",
        title: "R&D Technician Intern",
        company: "Ricoh Industrie France - Wettolsheim",
        type: "work",
        description: [
          "Conducting tests and analyses to evaluate product performance",
          "Specialization in material characterization",
          "Management and interpretation of experimental data"
        ]
      },
      {
        date: "Oct 2023 - Dec 2024",
        title: "Project: Making Medical Data Speak",
        company: "Centrale & SIB - Lille",
        type: "work",
        description: [
          "Using NLP/LLM to facilitate clinical decision making",
          "Project management and team organization"
        ]
      },
      {
        date: "2023 - 2026",
        title: "Master in Engineering",
        company: "École Centrale - Lille",
        type: "edu",
        description: [
          "Generalist training with projects in data science, project management, and applied physics"
        ]
      },
      {
        date: "2021 - 2023",
        title: "Preparatory Class for Grandes Écoles",
        company: "Lycée Kléber - Strasbourg",
        type: "edu",
        description: [
          "PCSI/PC* Class specializing in Physics and Mathematics",
          "Theoretical and practical preparation for competitive exams"
        ]
      }
    ]
  }
};

const t = translations[lang] || translations.fr;
---

<section class="py-16 md:py-24">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="mb-12">
      <h2 class="text-3xl font-bold text-foreground mb-4">{t.title}</h2>
      <p class="text-foreground-secondary">
        {t.subtitle}
      </p>
    </div>

    <div class="relative space-y-8 before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-border before:to-transparent">
      {t.experience.map((item, index) => (
        <div class={`relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active`}>
          
          <!-- Icon -->
          <div class="flex items-center justify-center w-10 h-10 rounded-full border border-border bg-background shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2 z-10">
            {item.type === 'work' ? (
              <Briefcase className="w-5 h-5 text-accent" />
            ) : (
              <GraduationCap className="w-5 h-5 text-purple-500" />
            )}
          </div>
          
          <!-- Content -->
          <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] p-6 rounded-xl border border-border bg-background-secondary hover:border-accent/30 transition-all shadow-sm">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2 gap-1">
              <span class="text-xs font-semibold px-2 py-0.5 rounded-full bg-surface text-foreground-secondary flex items-center gap-1">
                <Calendar className="w-3 h-3" />
                {item.date}
              </span>
            </div>
            
            <h3 class="text-lg font-bold text-foreground mb-1">
              {item.title}
            </h3>
            <div class="text-sm font-medium text-accent mb-3">
              {item.company}
            </div>
            
            <ul class="space-y-1">
              {item.description.map((desc) => (
                <li class="text-sm text-foreground-secondary leading-relaxed flex items-start gap-2">
                  <span class="mt-1.5 w-1 h-1 rounded-full bg-foreground-secondary/50 shrink-0"></span>
                  {desc}
                </li>
              ))}
            </ul>
          </div>
          
        </div>
      ))}
    </div>
  </div>
</section>
